import moment from 'moment'

export const objectToArray = (object) => {
  if (object) {
    return Object.entries(object).map(e => Object.assign({}, e[1], { id: e[0] }))
  }
}


// export const createDataTree = dataset => {
//   let hashTable = Object.create(null);
//   dataset.forEach(a => hashTable[a.id] = { ...a, childNodes: [] });
//   let dataTree = [];
//   dataset.forEach(a => {
//     if (a.parentId) hashTable[a.parentId].childNodes.push(hashTable[a.id]);
//     else dataTree.push(hashTable[a.id])
//   });
//   return dataTree
// };

export const formatToPhone = (number) => {
  const input = number.replace(/\D/g, '').substring(0, 10); // First ten digits of input only
  const zip = input.substring(0, 3);
  const middle = input.substring(3, 6);
  const last = input.substring(6, 10);
  return `(${zip}) ${middle} - ${last}`;
};

export const formatMoney = (amount, decimalCount = 2, decimal = ".", thousands = ",") => {
  try {
    decimalCount = Math.abs(decimalCount);
    decimalCount = isNaN(decimalCount) ? 2 : decimalCount;

    const negativeSign = amount < 0 ? "-" : "";

    let i = parseInt(amount = Math.abs(Number(amount) || 0).toFixed(decimalCount)).toString();
    let j = (i.length > 3) ? i.length % 3 : 0;

    return negativeSign + (j ? i.substr(0, j) + thousands : '') + i.substr(j).replace(/(\d{3})(?=\d)/g, "$1" + thousands) + (decimalCount ? decimal + Math.abs(amount - i).toFixed(decimalCount).slice(2) : "");
  } catch (e) {
    console.log("Error formatting value:", e)
  }
};